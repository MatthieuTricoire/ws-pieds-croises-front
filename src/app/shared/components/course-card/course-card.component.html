<div class="indicator w-full">
  @if (isUserRegistered()) {
    <div class="indicator-item top-0 right-10 badge badge-success">Inscris</div>
  }
  @if (isUserInWaitingList() && !isUserRegistered()) {
    <div class="indicator-item top-0 right-10 badge badge-warning">Liste d'attente</div>
  }
  @if (isCourseFull() && !isUserRegistered() && !isUserInWaitingList()) {
    <div class="indicator-item top-0 right-10 badge badge-error">Complet</div>
  }
  <div
    class="collapse border border-base-300 bg-base-200 w-full md:collapse-open"
    [ngClass]="{ 'border-success': isUserRegistered(), 'border-error': isCourseFull() }"
  >
    <input type="radio" name="course-accordion" />
    <div class="collapse-title text-base flex justify-between px-4 items-center gap-2">
      <div class="flex flex-col">
        <div>{{ getStartTime() }}</div>
        <div>{{ getEndTime() }}</div>
      </div>
      <div class="text-center font-medium text-lg">{{ course().title }}</div>
      <div
        class="flex items-center text-sm shrink-0"
        [ngClass]="occupiedSlots() === totalSlots() ? 'text-error' : ''"
      >
        <lucide-angular [img]="Users" [size]="18" class="mr-1" />
        {{ occupiedSlots() }} / {{ totalSlots() }}
      </div>
    </div>
    <div class="collapse-content flex items-center justify-between">
      <div>Coach : {{ course().coachName }}</div>
      <button
        class="btn btn-sm flex items-center gap-2"
        [class]="buttonConfig().variant"
        [disabled]="buttonConfig().disabled"
        (click)="handleCourseAction(); $event.stopPropagation()"
      >
        <lucide-angular [img]="buttonConfig().icon" size="16" />
        {{ buttonConfig().text }}
      </button>
    </div>
  </div>
</div>
